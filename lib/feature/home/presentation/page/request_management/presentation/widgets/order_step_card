// import 'package:flutter/material.dart';
// import 'package:flutter_screenutil/flutter_screenutil.dart';
// import 'package:google_fonts/google_fonts.dart';
// import 'package:ma_box_orange/core/custom_widget_shared/timelines/src/connectors.dart';
// import 'package:ma_box_orange/core/custom_widget_shared/timelines/src/timeline_node.dart';
// import 'package:ma_box_orange/core/custom_widget_shared/timelines/src/timeline_tile.dart';
// import 'package:ma_box_orange/core/extention.dart';
// import 'package:ma_box_orange/core/rechargement/theme/app_colors.dart';
// import 'package:ma_box_orange/core/rechargement/theme/app_text_styles.dart';
// import 'package:ma_box_orange/core/rechargement/widgets/custom_icon.dart';
// import 'package:ma_box_orange/features/request_management/domain/entities/order_tracking_response.dart';
// import 'package:ma_box_orange/gen/assets.gen.dart';
// import 'package:ma_box_orange/gen/colors.gen.dart';

// class OrderStepCard extends StatelessWidget {
//   const OrderStepCard({
//     super.key,
//     required this.step,
//     required this.stepNumber,
//     this.isLastStep = false,
//   });
//   final OrderStep step;
//   final int stepNumber;
//   final bool isLastStep;

//   @override
//   Widget build(BuildContext context) {
//     final statusIcon = _getStatusIcon();
//     final statusColor = _getStatusColor();
//     final lineColor = _getLineColor();

//     return TimelineTile(
//       nodeAlign: TimelineNodeAlign.start,
//       contents: Container(
//         margin: const EdgeInsets.only(left: 16, bottom: 16),
//         padding: const EdgeInsets.all(16),
//         decoration: BoxDecoration(
//           color: AppColors.backgroundGrey,
//           borderRadius: BorderRadius.circular(8),
//         ),
//         child: Row(
//           spacing: 8,
//           children: [
//             CustomIcon(
//               assetPath: statusIcon,
//               color: statusColor,
//             ),
//             // Icon(statusIcon, color: statusColor, size: 20),
//             Expanded(
//               child: Column(
//                 crossAxisAlignment: CrossAxisAlignment.start,
//                 spacing: 8,
//                 children: [
//                   // Title with status icon
//                   Text(
//                     step.title.cleanText(),
//                     style: GoogleFonts.roboto(
//                       fontSize: 14.sp,
//                       color: MyColorName.black,
//                       fontWeight: FontWeight.w500,
//                       letterSpacing: .1.sp,
//                     ),
//                   ),

//                   // Message
//                   Text(
//                     step.message.cleanText(),
//                     style: GoogleFonts.roboto(
//                       fontSize: 12.sp,
//                       color: const Color(0XFF939393),
//                       fontWeight: FontWeight.w400,
//                       letterSpacing: .1.sp,
//                     ),
//                   ),

//                   // Date
//                   Text(
//                     _formatDate(step.dateCreation),
//                     style: GoogleFonts.roboto(
//                       fontSize: 8.sp,
//                       color: const Color(0XFF939393),
//                       fontWeight: FontWeight.w400,
//                       letterSpacing: .1.sp,
//                     ),
//                   ),
//                 ],
//               ),
//             ),
//           ],
//         ),
//       ),
//       node: TimelineNode(
//         indicator: Container(
//           width: 40,
//           height: 40,
//           decoration: BoxDecoration(
//             shape: BoxShape.circle,
//             border: Border.all(color: AppColors.black, width: 2),
//             color: AppColors.white,
//           ),
//           child: Center(
//             child: Text(
//               '$stepNumber',
//               style: AppTextStyles.bodyMedium.copyWith(
//                 fontWeight: FontWeight.bold,
//               ),
//             ),
//           ),
//         ),
//         startConnector: stepNumber > 1
//             ? SolidLineConnector(color: _getPreviousLineColor(), thickness: 3)
//             : null,
//         endConnector: !isLastStep
//             ? SolidLineConnector(color: lineColor, thickness: 3)
//             : null,
//       ),
//     );
//   }

//   String _getStatusIcon() {
//     if (step.isCompleted) {
//       return MyAssets.v4Img.fidelity.done.path;
//     } else if (step.isInProgress) {
//       return MyAssets.v4Img.fidelity.accessTime.path;
//     } else {
//       return MyAssets.v4Img.fidelity.accessTime.path;
//     }
//   }

//   Color _getStatusColor() {
//     if (step.isCompleted) {
//       return Colors.green;
//     } else if (step.isInProgress) {
//       return AppColors.primaryOrange;
//     } else {
//       return AppColors.grey;
//     }
//   }

//   Color _getLineColor() {
//     // La ligne est orange si l'étape actuelle est terminée
//     // Sinon elle est grise
//     if (step.isCompleted) {
//       return AppColors.primaryOrange;
//     } else {
//       return AppColors.greyLight;
//     }
//   }

//   Color _getPreviousLineColor() {
//     // La ligne au-dessus est orange si on est sur une étape qui n'est pas la première
//     // et que l'étape précédente était terminée
//     // Pour simplifier, on utilise la même logique: orange si cette étape est complétée ou en cours
//     if (step.isCompleted || step.isInProgress) {
//       return AppColors.primaryOrange;
//     } else {
//       return AppColors.greyLight;
//     }
//   }

//   String _formatDate(String dateStr) {
//     try {
//       // Format: "08/07/2025 14:30"
//       return dateStr;
//     } catch (e) {
//       return dateStr;
//     }
//   }
// }
